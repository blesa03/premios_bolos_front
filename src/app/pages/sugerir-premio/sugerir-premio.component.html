<div class="max-w-4xl mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold mb-2 text-center">
    Sugerir nuevos premios ğŸ§ 
  </h1>
  <p class="text-sm text-slate-400 text-center mb-8">
    Si se te ha ocurrido una locura digna de la gala, este es el sitio.
    TÃº propones, el jurado boleril dispone.
  </p>

  <div class="bg-slate-900/70 border border-slate-800 rounded-2xl p-6 shadow-lg mb-10">
    <h2 class="text-lg font-semibold mb-4">
      Lanza tu propuesta
    </h2>

    <form class="space-y-4" (ngSubmit)="onSubmit()">
      <div>
        <label class="block text-xs font-medium mb-1">TÃ­tulo del premio</label>
        <input
          [(ngModel)]="titulo"
          name="titulo"
          maxlength="100"
          class="w-full rounded-lg bg-slate-800 border border-slate-700 px-3 py-2 text-sm outline-none focus:border-emerald-400"
          placeholder="Ej: Premio al que siempre llega tarde"
        />
      </div>

      <div>
        <label class="block text-xs font-medium mb-1">Resumen corto</label>
        <input
          [(ngModel)]="resumen"
          name="resumen"
          maxlength="255"
          class="w-full rounded-lg bg-slate-800 border border-slate-700 px-3 py-2 text-sm outline-none focus:border-emerald-400"
          placeholder="Una frase rÃ¡pida explicando a quiÃ©n va dirigido"
        />
      </div>

      <div>
        <label class="block text-xs font-medium mb-1">DescripciÃ³n detallada</label>
        <textarea
          [(ngModel)]="descripcion"
          name="descripcion"
          rows="4"
          class="w-full rounded-lg bg-slate-800 border border-slate-700 px-3 py-2 text-sm outline-none focus:border-emerald-400"
          placeholder="AquÃ­ te puedes explayar con el lore del premio..."
        ></textarea>
      </div>

      <!-- NUEVO: Tipo de premio -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
        <div>
          <label class="block text-xs font-medium mb-1">Tipo de premio</label>
          <select
            [(ngModel)]="awardType"
            name="awardType"
            class="w-full rounded-lg bg-slate-800 border border-slate-700 px-3 py-2 text-sm outline-none focus:border-emerald-400"
          >
            <option [ngValue]="'people'">Personas</option>
            <option [ngValue]="'clip'">Clip / vÃ­deo</option>
          </select>
          <p class="text-[10px] text-slate-500 mt-1">
            Para cosas rollo â€œMomentos del aÃ±oâ€, â€œClipâ€, â€œVÃ­deoâ€, etc.
          </p>
        </div>

        <div>
          <label class="block text-xs font-medium mb-1">Participantes por candidato</label>
          <select
            [(ngModel)]="nominationMode"
            (ngModelChange)="onNominationModeChange()"
            name="nomMode"
            class="w-full rounded-lg bg-slate-800 border border-slate-700 px-3 py-2 text-sm outline-none focus:border-emerald-400"
          >
            <option [ngValue]="'single'">1 persona</option>
            <option [ngValue]="'pair'">2 personas</option>
            <option [ngValue]="'multi'">Varios (3+)</option>
          </select>

          <div *ngIf="nominationMode === 'multi'" class="mt-2">
            <label class="block text-[11px] font-medium mb-1">MÃ¡ximo de participantes</label>
            <input
              type="number"
              min="3"
              [(ngModel)]="maxParticipants"
              name="maxParticipants"
              class="w-full rounded-lg bg-slate-800 border border-slate-700 px-3 py-2 text-sm outline-none focus:border-emerald-400"
              placeholder="Ej: 4"
            />
          </div>
        </div>
      </div>

      <div class="flex items-center gap-3 pt-2">
        <button
          type="submit"
          [disabled]="loading"
          class="rounded-lg bg-emerald-500 px-4 py-2 text-sm font-semibold text-slate-900 hover:bg-emerald-400 disabled:opacity-60"
        >
          {{ loading ? 'Enviando...' : 'Enviar sugerencia' }}
        </button>

        <span *ngIf="successMessage" class="text-xs text-emerald-400">{{ successMessage }}</span>
        <span *ngIf="errorMessage" class="text-xs text-rose-400">{{ errorMessage }}</span>
      </div>
    </form>
  </div>

  <div>
    <h2 class="text-lg font-semibold mb-3">Tus sugerencias enviadas</h2>

    <div *ngIf="loadingSuggestions" class="text-sm text-slate-400">
      Cargando tus inventosâ€¦ ğŸŒ€
    </div>

    <div *ngIf="!loadingSuggestions && misSugerencias.length === 0" class="text-sm text-slate-500">
      TodavÃ­a no has sugerido ningÃºn premio.
    </div>

    <div class="space-y-3" *ngIf="!loadingSuggestions && misSugerencias.length > 0">
      <div *ngFor="let s of misSugerencias" class="bg-slate-900/60 border border-slate-800 rounded-xl p-4">
        <div class="flex items-center justify-between mb-1">
          <h3 class="text-sm font-semibold">{{ s.titulo }}</h3>
          <span class="text-[11px]" [ngClass]="getEstadoClass(s)">{{ getEstadoLabel(s) }}</span>
        </div>

        <!-- NUEVO: meta -->
        <div class="text-[11px] text-slate-500 mb-2">
          {{ getTipoLabel(s) }} Â· {{ getModoLabel(s) }}
        </div>

        <p class="text-xs text-slate-300 italic mb-1">{{ s.resumen }}</p>
        <p class="text-xs text-slate-400">{{ s.descripcion }}</p>
      </div>
    </div>
  </div>
</div>